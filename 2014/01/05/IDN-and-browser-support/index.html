<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="This post is about IDN and browser support.


First of all, http does not support unicode :). To do unicode, they use a punycode to convert any domain"><meta name="author" content="Thomas Piart"><meta property="og:title" content="IDN and browser support"><meta property="og:site_name" content="Thomas Piart - tpî.eu"><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/encharm/Font-Awesome-SVG-PNG/30dda99e/black/png/256/globe.png"><meta property="og:url" content="https://tpî.eu/2014/01/05/IDN-and-browser-support/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tomap"><title>IDN and browser support - Thomas Piart - tpî.eu</title><link rel="stylesheet" href="/css/style.css"></head><body class="sans-serif"><div class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db dt-l w-100 mw8 center border-box pv3"><div class="db dtc-l v-mid w-100 w-75-l tc tr-l"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/" title="Home">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/archives" title="Archives">Archives </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/resume" title="Resume">Resume</a></div></nav><div class="w-100 mw8 center dt"><div class="dtc v-mid white"><h1 class="f1-l f2-m tc tc-m tl-ns">IDN and browser support</h1></div></div><div class="relative w-100 mw8 center white dn dn-m db-ns"><i class="header-icon fa fa-globe"></i></div></div><div class="w-100 ph2 ph4-m ph5-l mv5 mv5-l"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><div class="tags-container-vertical"><div class="tags-sub-container"><a class="fw3 ph1" href="/tags/idn/">#idn</a> <a class="fw3 ph1" href="/tags/browser/">#browser</a> <a class="fw3 ph1" href="/tags/support/">#support</a></div></div><p>This post is about IDN and browser support.</p><p>First of all, http does not support unicode :). To <i>do</i> unicode, they use a <b>punycode</b> to convert any domain name into it's ascii equivalent: for example, my domain <b>tpî.eu</b> is translated to <b>https://xn--tp-rja.eu/</b>.</p>I bought this IDN domain (tpî.eu), found this idea very clever until I found out that browser support wasn't so good. It goes from no support to little issues to perfect.<p></p><p>Those differences can be explained because IDN is new and viewed as a potential security threat.</p><p>For example, using similar characters in ascii and unicode, one could spoof the content of ebay.com and send you to еbay.com: You did not notice any differences? Have a better look: <u>ebay.com</u> and <u>еbay.com</u> . notice the difference between <b>e</b> and <b>е</b>: the last one is a Cyrillic character. (see <a href="https://en.wikipedia.org/wiki/IDN_homograph_attack" target="_blank" rel="noopener">wikipedia about that</a>)</p><p>To avoid that, Registar are supposed to do some similarity check and reject possible spoof. Browser on the other side also have some kind of protection which varies from one browser to another. If the check fails, you'll see <i>safe</i> punycode.</p><p>Let's start:</p><h2>Firefox 19</h2><p>On Mac, <b>.eu</b> extension is not supposed to display IDN, so it's not part of a white list, so by default, you should see punycode. What I did was to add a key to about:config to add .eu to the white list:</p><img src="https://farm1.staticflickr.com/569/32966871092_619871c9dd_z.jpg" width="640" alt="Firefox Mac About Config" data-height="456"><p>And here is the result:</p><img src="https://farm3.staticflickr.com/2840/32278189784_0e843d6d75_z.jpg" width="640" alt="Firefox Mac" data-height="456"><h2>Chrome on Android</h2><p>On Android, with Chrome: it does not work and shows punycode:</p><img src="https://farm4.staticflickr.com/3683/32996560941_2d9bcd97ab_z.jpg" width="640" alt="chrome android" data-height="400"><p>Note: I wrote this article one year ago (in March 2013) and never took time to publish it :(</p><div class="tags-container-bottom"><i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1" href="/tags/idn/">#idn</a> <a class="fw3 ph1" href="/tags/browser/">#browser</a> <a class="fw3 ph1" href="/tags/support/">#support</a></div><div class="pt3"><i class="fa fa-share-alt pr3 text-main-color"></i>Comment on<div class="dib mh3"><a class="fw3 ph1" href="https://github.com/tomap/tpi2.eu/issues/new?labels=comment&amp;title=IDN%20and%20browser%20support&amp;body=%0A%0AUrl:%20https://tp%C3%AE.eu/2014/01/05/IDN-and-browser-support/" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i> github</a></div><div class="dib mh3"><a class="fw3 ph1" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://tp%C3%AE.eu/2014/01/05/IDN-and-browser-support/" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin"></i> linkedin</a></div><div class="dib mh3"><a class="fw3 ph1" href="https://twitter.com/intent/tweet?url=https://tp%C3%AE.eu/2014/01/05/IDN-and-browser-support/&amp;via=tomap" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i> twitter</a></div></div></div></div></div></div></div><div class="bg-1 ph2 ph5-ns pv5"><div class="mv8"><div class="center tc"><div class="dib mh3"><a class="f3 f2-ns white glow o-70" href="https://stackoverflow.com/users/383029/tomap" target="_blank" rel="noopener noreferrer"><i class="fa fa-stack-overflow"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white glow o-70" href="https://github.com/tomap/" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white glow o-70" href="https://linkedin.com/in/thomaspiart" target="_blank" rel="noopener noreferrer"><i class="fa fa-linkedin"></i></a></div><div class="dib mh3"><a class="f3 f2-ns white glow o-70" href="https://twitter.com/tomap" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i></a></div></div></div></div></body></html>