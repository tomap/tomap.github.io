<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Thomas Piart - tp√Æ.eu - Personal site"><meta name="author" content="Thomas Piart"><meta property="og:title" content="IDN and browser support"><meta property="og:description" content="Thomas Piart - tp√Æ.eu - Personal site"><meta property="og:site_name" content="Thomas Piart - tp√Æ.eu"><meta property="og:type" content="article"><meta property="og:image" content="https://i‚ù§Ô∏è.ws/emoji-image/üåç.png"><meta property="og:url" content="https://tp√Æ.eu/2014/01/05/IDN-and-browser-support/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tomap"><meta name="generator" content="Hexo"><title>IDN and browser support - #idn - #browser - #support - Thomas Piart - tp√Æ.eu</title><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Thomas Piart - tp√Æ.eu" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="Thomas Piart - tp√Æ.eu" type="application/rss+xml"></head><body class="sans-serif"><header class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db w-100 mw8 center border-box pv3"><div class="db v-mid w-100 tc tr-ns"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/resume/">Resume</a></div></nav><div class="w-100 tc db dt-ns"><div class="dib dtc-ns w-90-ns white"><h1 class="f1-ns tc tc-ns tl-ns">IDN and browser support</h1></div><div class="dib dtc-ns w-10-ns f1 f-5-ns f-6-l mb2"><span class="ec">üåç</span></div></div></header><div class="w-100 ph2 ph4-m ph5-l mv5"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><p>This post is about IDN and browser support.</p><p>First of all, http does not support unicode :). To <i>do</i> unicode, they use a <b>punycode</b> to convert any domain name into it's ascii equivalent: for example, my domain <b>tp√Æ.eu</b> is translated to <b>https://xn--tp-rja.eu/</b>.</p>I bought this IDN domain (tp√Æ.eu), found this idea very clever until I found out that browser support wasn't so good. It goes from no support to little issues to perfect.<p></p><p>Those differences can be explained because IDN is new and viewed as a potential security threat.</p><p>For example, using similar characters in ascii and unicode, one could spoof the content of ebay.com and send you to –µbay.com: You did not notice any differences? Have a better look: <u>ebay.com</u> and <u>–µbay.com</u> . notice the difference between <b>e</b> and <b>–µ</b>: the last one is a Cyrillic character. (see <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/IDN_homograph_attack">wikipedia about that</a>)</p><p>To avoid that, Registar are supposed to do some similarity check and reject possible spoof. Browser on the other side also have some kind of protection which varies from one browser to another. If the check fails, you'll see <i>safe</i> punycode.</p><p>Let's start:</p><h2>Firefox 19</h2><p>On Mac, <b>.eu</b> extension is not supposed to display IDN, so it's not part of a white list, so by default, you should see punycode. What I did was to add a key to about:config to add .eu to the white list:</p><a href="https://flic.kr/p/SeaQeb/sizes/l" target="_blank" rel="noopener noreferrer"><img src="https://live.staticflickr.com/569/32966871092_619871c9dd_z.jpg" width="640" srcset="https://live.staticflickr.com/569/32966871092_619871c9dd_s.jpg 75w, https://live.staticflickr.com/569/32966871092_619871c9dd_q.jpg 150w, https://live.staticflickr.com/569/32966871092_619871c9dd_t.jpg 100w, https://live.staticflickr.com/569/32966871092_619871c9dd_m.jpg 240w, https://live.staticflickr.com/569/32966871092_619871c9dd_n.jpg 320w, https://live.staticflickr.com/569/32966871092_619871c9dd_w.jpg 400w, https://live.staticflickr.com/569/32966871092_619871c9dd.jpg 500w, https://live.staticflickr.com/569/32966871092_619871c9dd_z.jpg 640w"></a><p>And here is the result:</p><a href="https://flic.kr/p/Rbjagw/sizes/l" target="_blank" rel="noopener noreferrer"><img src="https://live.staticflickr.com/2840/32278189784_0e843d6d75_z.jpg" width="640" srcset="https://live.staticflickr.com/2840/32278189784_0e843d6d75_s.jpg 75w, https://live.staticflickr.com/2840/32278189784_0e843d6d75_q.jpg 150w, https://live.staticflickr.com/2840/32278189784_0e843d6d75_t.jpg 100w, https://live.staticflickr.com/2840/32278189784_0e843d6d75_m.jpg 240w, https://live.staticflickr.com/2840/32278189784_0e843d6d75_n.jpg 320w, https://live.staticflickr.com/2840/32278189784_0e843d6d75_w.jpg 400w, https://live.staticflickr.com/2840/32278189784_0e843d6d75.jpg 500w, https://live.staticflickr.com/2840/32278189784_0e843d6d75_z.jpg 640w"></a><h2>Chrome on Android</h2><p>On Android, with Chrome: it does not work and shows punycode:</p><a href="https://flic.kr/p/SgMZZ8/sizes/l" target="_blank" rel="noopener noreferrer"><img src="https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_z.jpg" width="640" srcset="https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_s.jpg 75w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_q.jpg 150w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_t.jpg 100w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_m.jpg 240w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_n.jpg 320w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_w.jpg 400w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab.jpg 500w, https://live.staticflickr.com/3683/32996560941_2d9bcd97ab_z.jpg 640w"></a><p>Note: I wrote this article one year ago (in March 2013) and never took time to publish it :(</p><div class="pt3"><span class="ec pr2">üïó</span>2014-01-05</div><div class="pt3"><span class="ec ec-mono pr2">üîñ</span> <a class="mr3" href="/tags/idn/">#idn</a> <a class="mr3" href="/tags/browser/">#browser</a> <a class="mr3" href="/tags/support/">#support</a></div><div class="pt3 comment"><span class="ec ec-mono pr2">üí¨</span><span class="mr2">Comment on</span> <a class="mr3 ic ic-share ic-github" href="https://github.com/tomap/tpi2.eu/issues/new?labels=comment&amp;title=IDN%20and%20browser%20support&amp;body=%0A%0AUrl:%20https://tp%C3%AE.eu/2014/01/05/IDN-and-browser-support/" target="_blank" rel="noopener noreferrer">github </a><a class="mr3 ic ic-share ic-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://tp%C3%AE.eu/2014/01/05/IDN-and-browser-support/" target="_blank" rel="noopener noreferrer">linkedin </a><a class="mr3 ic ic-share ic-twitter" href="https://twitter.com/intent/tweet?url=https://tp%C3%AE.eu/2014/01/05/IDN-and-browser-support/&amp;via=tomap" target="_blank" rel="noopener noreferrer">twitter</a></div></div></div></div></div></div><footer class="bg-1 ph2 ph5-ns pv5 center tc"><a class="dib mh3 glow o-70 link black" href="https://stackoverflow.com/users/383029/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-stackoverflow"></i> <span class="db mt2">StackOverflow</span> </a><a class="dib mh3 glow o-70 link black" href="https://github.com/tomap/" target="_blank" rel="noopener noreferrer"><i class="ic ic-github"></i> <span class="db mt2">GitHub</span> </a><a class="dib mh3 glow o-70 link black" href="https://www.linkedin.com/in/thomaspiart/" target="_blank" rel="noopener noreferrer"><i class="ic ic-linkedin"></i> <span class="db mt2">LinkedIn</span> </a><a class="dib mh3 glow o-70 link black" href="https://twitter.com/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-twitter"></i> <span class="db mt2">Twitter</span> </a><a class="dib mh3 glow o-70 link black" href="/rss2.xml" target="_blank" rel="noopener noreferrer"><i class="ic ic-rss"></i> <span class="db mt2">Rss</span></a></footer></body></html>