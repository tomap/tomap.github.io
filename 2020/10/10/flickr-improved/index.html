<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Thomas Piart - tpî.eu - Personal site"><meta name="author" content="Thomas Piart"><meta property="og:title" content="Flickr tag improved"><meta property="og:description" content="Thomas Piart - tpî.eu - Personal site"><meta property="og:site_name" content="Thomas Piart - tpî.eu"><meta property="og:type" content="article"><meta property="og:image" content="https://i❤️.ws/emoji-image/🦥.png"><meta property="og:url" content="https://tpî.eu/2020/10/10/flickr-improved/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tomap"><meta name="generator" content="Hexo"><title>Flickr tag improved - #flickr - #hexo - Thomas Piart - tpî.eu</title><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Thomas Piart - tpî.eu" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="Thomas Piart - tpî.eu" type="application/rss+xml"></head><body class="sans-serif"><header class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db w-100 mw8 center border-box pv3"><div class="db v-mid w-100 tc tr-ns"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/resume/">Resume</a></div></nav><div class="w-100 tc db dt-ns"><div class="dib dtc-ns w-90-ns white"><h1 class="f1-ns tc tc-ns tl-ns">Flickr tag improved</h1></div><div class="dib dtc-ns w-10-ns f1 f-5-ns f-6-l mb2"><span class="ec">🦥</span></div></div></header><div class="w-100 ph2 ph4-m ph5-l mv5"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 mw7 left lh-copy pr4-ns pr0-m post-content"><p>I spent some time improving the <strong>hexo-tag-flickr</strong> plugin that displays images from flickr on this site.</p><p>Here is what I did:</p><h2>Live Urls</h2><p>I switched from the <code>farm*.staticflickr.com</code> urls to <em><a target="_blank" rel="noopener" href="http://live.staticflickr.com">live.staticflickr.com</a></em></p><p>By doing so, I spared myself a call to <a target="_blank" rel="noopener" href="https://www.flickr.com/services/api/explore/flickr.photos.getInfo">flickr.photos.getInfo</a> API for each images.</p><p>Because all that is needed is a call to <a target="_blank" rel="noopener" href="https://www.flickr.com/services/api/explore/flickr.photos.getSizes">flickr.photos.getSizes</a></p><h2>Srcset</h2><p>I included the <em>srcset</em> attribute. This attribute is useful to provide multiple size of the same image and let the browser decide which is better depending on the context. For example, on mobile, a small image might be enough, and on a desktop a bigger image might be needed.</p><p>A demonstration of this is below:</p><a href="//flic.kr/p/2jQR5bz/sizes/l" target="_blank" rel="noopener noreferrer"><img src="//live.staticflickr.com/65535/50435880733_7f240f8af0_o.jpg" width="20000" srcset="//live.staticflickr.com/65535/50435880733_3b6d5f6a4b_s.jpg 75w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_q.jpg 150w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_t.jpg 100w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_m.jpg 240w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_n.jpg 320w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_w.jpg 400w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b.jpg 500w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_z.jpg 640w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_c.jpg 800w, //live.staticflickr.com/65535/50435880733_3b6d5f6a4b_b.jpg 1024w, //live.staticflickr.com/65535/50435880733_cc4ff56798_h.jpg 1600w, //live.staticflickr.com/65535/50435880733_a2be39edd2_k.jpg 2048w, //live.staticflickr.com/65535/50435880733_116168d5e8_f.jpg 4096w, //live.staticflickr.com/65535/50435880733_7f240f8af0_o.jpg 20000w"></a><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% flickr 50435880733 o %&#125;</span><br></pre></td></tr></table></figure><p>I’ve embedded a <strong>20000px</strong> large image. And you have only downloaded a 2048px image (or smaller) because your browser determined it was enough. See here for more explanation: <a target="_blank" rel="noopener" href="https://flaviocopes.com/html-responsive-images-srcset/">https://flaviocopes.com/html-responsive-images-srcset/</a></p><p>Unless you are still using IE, in which case, … I’m sorry (see <a target="_blank" rel="noopener" href="https://caniuse.com/srcset">https://caniuse.com/srcset</a> for support)</p><h2>The rest</h2><p>I also did a bunch of other fixes. See <a target="_blank" rel="noopener" href="https://github.com/tomap/hexo-tag-flickr/commit/f8d58bb6e44307ba5d03ba04c81d22cac640ded3">https://github.com/tomap/hexo-tag-flickr/commit/f8d58bb6e44307ba5d03ba04c81d22cac640ded3</a> I let you check them out.</p><p>EDIT 12/10: It seems Feedly crashes when displaying a post with such a large image…</p><div class="pt3"><span class="ec pr2">🕗</span>2020-10-10</div><div class="pt3"><span class="ec ec-mono pr2">🔖</span> <a class="mr3" href="/tags/flickr/">#flickr</a> <a class="mr3" href="/tags/hexo/">#hexo</a></div><div class="pt3 comment"><span class="ec ec-mono pr2">💬</span><span class="mr2">Comment on</span> <a class="mr3 ic ic-share ic-github" href="https://github.com/tomap/tpi2.eu/issues/new?labels=comment&amp;title=Flickr%20tag%20improved&amp;body=%0A%0AUrl:%20https://tp%C3%AE.eu/2020/10/10/flickr-improved/" target="_blank" rel="noopener noreferrer">github </a><a class="mr3 ic ic-share ic-linkedin" href="https://www.linkedin.com/sharing/share-offsite/?url=https://tp%C3%AE.eu/2020/10/10/flickr-improved/" target="_blank" rel="noopener noreferrer">linkedin </a><a class="mr3 ic ic-share ic-twitter" href="https://twitter.com/intent/tweet?url=https://tp%C3%AE.eu/2020/10/10/flickr-improved/&amp;via=tomap" target="_blank" rel="noopener noreferrer">twitter</a></div></div></div></div></div></div><footer class="bg-1 ph2 ph5-ns pv5 center tc"><a class="dib m3 glow o-70 link black ma2" href="https://hachyderm.io/@tomap" target="_blank" rel="me noopener noreferrer"><i class="ic ic-mastodon"></i> <span class="db mt2">Mastodon</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://stackoverflow.com/users/383029/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-stackoverflow"></i> <span class="db mt2">StackOverflow</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://github.com/tomap/" target="_blank" rel="noopener noreferrer"><i class="ic ic-github"></i> <span class="db mt2">GitHub</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://www.linkedin.com/in/thomaspiart/" target="_blank" rel="noopener noreferrer"><i class="ic ic-linkedin"></i> <span class="db mt2">LinkedIn</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://twitter.com/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-twitter"></i> <span class="db mt2">Twitter</span> </a><a class="dib m3 glow o-70 link black ma2" href="/rss2.xml" target="_blank" rel="noopener noreferrer"><i class="ic ic-rss"></i> <span class="db mt2">Rss</span></a></footer></body></html>