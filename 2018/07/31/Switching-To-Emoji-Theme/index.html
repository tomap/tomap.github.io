<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Thomas Piart - tp√Æ.eu - Personal site"><meta name="author" content="Thomas Piart"><meta property="og:title" content="Switching to Emoji Theme"><meta property="og:description" content="Thomas Piart - tp√Æ.eu - Personal site"><meta property="og:site_name" content="Thomas Piart - tp√Æ.eu"><meta property="og:type" content="article"><meta property="og:image" content="https://i‚ù§Ô∏è.ws/emoji-image/üòä.png"><meta property="og:url" content="https://tp√Æ.eu/2018/07/31/Switching-To-Emoji-Theme/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tomap"><meta name="generator" content="Hexo"><title>Switching to Emoji Theme - #theme - #emoji - Thomas Piart - tp√Æ.eu</title><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Thomas Piart - tp√Æ.eu" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="Thomas Piart - tp√Æ.eu" type="application/rss+xml"></head><body class="sans-serif"><header class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db w-100 mw8 center border-box pv3"><div class="db v-mid w-100 tc tr-ns"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/resume/">Resume</a></div></nav><div class="w-100 tc db dt-ns"><div class="dib dtc-ns w-90-ns white"><h1 class="f1-ns tc tc-ns tl-ns">Switching to Emoji Theme</h1></div><div class="dib dtc-ns w-10-ns f1 f-5-ns f-6-l mb2"><span class="ec">üòä</span></div></div></header><div class="w-100 ph2 ph4-m ph5-l mv5"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 mw7 left lh-copy pr4-ns pr0-m post-content"><p>In the past weeks, I have transformed the theme of this blog to use emoji instead of FontAwesome icons (FA).</p><p>FA icons were of great service, but I was only using few of them, and it was needlessly adding latency and using bandwidth.</p><p>The latency was caused by the fact that the font needed to be loaded after the CSS was loaded, and the bandwidth usage was caused by the weight of the font file. See <a target="_blank" rel="noopener" href="https://github.com/tomap/tpi2.eu/blob/975f9a247fff11d360085b0ef971f88e01f889df/themes/anodyne/source/fonts/fontawesome-webfont.woff2">the .woff2 file for example</a>: 72KB.</p><p>For the CSS and font files, I had two possibilities:</p><ul><li>either reference them from a CDN, and hope that they were already cached by the client. If not, the client had to download the font + the full CSS (31KB or 7KB gzipped)</li><li>or embed them in the site, and by using <a target="_blank" rel="noopener" href="https://github.com/uncss/uncss">uncss</a> be able to strip down the CSS for the icons I was not using. Only a few bytes.</li></ul><p>I experimented both, and ended up using the 2nd option: embedding FontAwesome to leverage uncss with hexo-uncss.</p><p>Then I looked at the very few icons I was using, and realized I could use Emoji instead.</p><p>I made a map <a target="_blank" rel="noopener" href="https://github.com/tomap/tpi2.eu/blob/0fe8e130dffd87a1d9e631637ddfb99b03f1d5d0/FontAwesomeToUnicode.md">FA &lt;&gt; Emoji</a>.<br>I found an equivalent for every icons except the brands (LinkedIn, Twitter, ‚Ä¶).<br>For them, I switched from Font Icons to SVG of those icons (first using FA SVG‚Äôs, and then SVG from <a target="_blank" rel="noopener" href="https://simpleicons.org/">SimpleIcons</a>, with a more permissive license CC Zero)</p><p>Here are the technical changes I made to do that:</p><h2>Emojis</h2><p>I used emojis for pages &amp; posts titles and for the ‚Äútags‚Äù &amp; ‚Äúshare‚Äù icons (see at the bottom of the page).</p><p>In the header of the post, instead of mentioning:</p><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">icon: fa-fire</span><br></pre></td></tr></table></figure><p>I can use the emoji directly:</p><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">icon: üî•</span><br></pre></td></tr></table></figure><p>This will the reference the css <code>.ec-üî•</code> which will display the icon as a <code>content: 'üî•'</code></p><p>I also had to change the open graph image used when sharing to Twitter or LinkedIn. For the, I found this service <a href="https://xn--i-7iqv272g.ws/emoji-image/%F0%9F%94%A5.png">https://i‚ù§Ô∏è.ws/emoji-image/üî•.png</a> which provides a png from an emoji. See <a target="_blank" rel="noopener" href="https://medium.com/@Emoji_Domains/free-emoji-image-generator-api-c0b7eaefa586">the article on Medium</a> for more explanation.</p><p>By default, emoji are displayed with colors, see the fire or smiley üî• üòä.<br>In order to keep something closer to FA, I applied a <code>filter: sepia(90%);</code> which gave them a nicer render.</p><h2>Brands</h2><p>For brands, I used the brand icons from <a target="_blank" rel="noopener" href="http://SimpleIcons.org">SimpleIcons.org</a>. They have pretty much every brand you can ask for, and if they don‚Äôt have it, you can <a target="_blank" rel="noopener" href="https://github.com/simple-icons/simple-icons/issues/625#issuecomment-361242420">ask for it</a>.</p><p>It‚Äôs a manual process: I copied the brand icon from they site, optimized it using <a target="_blank" rel="noopener" href="https://jakearchibald.github.io/svgomg/">https://jakearchibald.github.io/svgomg/</a>, manually removed some more useless stuff and paste them as inline background images.</p><p>Original SVG (twitter)</p><figure class="highlight svg"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">aria-labelledby</span>=<span class="string">&quot;simpleicons-twitter-icon&quot;</span> <span class="attr">role</span>=<span class="string">&quot;img&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 24 24&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">title</span> <span class="attr">id</span>=<span class="string">&quot;simpleicons-twitter-icon&quot;</span>&gt;</span>Twitter icon<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Resulting CSS (in Stylus):</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.ic-twitter</span></span><br><span class="line">    <span class="attribute">background-image</span> url(&quot;data:image/svg+xml;utf8,&lt;svg viewBox=&#x27;<span class="number">0</span> <span class="number">0</span> <span class="number">24</span> <span class="number">24</span>&#x27; xmlns=&#x27;http://www.w3.org/<span class="number">2000</span>/svg<span class="string">&#x27;&gt;&lt;path d=&#x27;</span>M23.<span class="number">954</span> <span class="number">4.569</span>c-.<span class="number">885.389</span>-<span class="number">1.83</span>.<span class="number">654</span>-<span class="number">2.825</span>.<span class="number">775</span> <span class="number">1.014</span>-.<span class="number">611</span> <span class="number">1.794</span>-<span class="number">1.574</span> <span class="number">2.163</span>-<span class="number">2.723</span>-.<span class="number">951.555</span>-<span class="number">2.005</span>.<span class="number">959</span>-<span class="number">3.127</span> <span class="number">1.184</span>-.<span class="number">896</span>-.<span class="number">959</span>-<span class="number">2.173</span>-<span class="number">1.559</span>-<span class="number">3.591</span>-<span class="number">1.559</span>-<span class="number">2.717</span> <span class="number">0</span>-<span class="number">4.92</span> <span class="number">2.203</span>-<span class="number">4.92</span> <span class="number">4.917</span> <span class="number">0</span> .<span class="number">39.045</span>.<span class="number">765.127</span> <span class="number">1.124</span>C7.<span class="number">691</span> <span class="number">8.094</span> <span class="number">4.066</span> <span class="number">6.13</span> <span class="number">1.64</span> <span class="number">3.161</span>c-.<span class="number">427.722</span>-.<span class="number">666</span> <span class="number">1.561</span>-.<span class="number">666</span> <span class="number">2.475</span> <span class="number">0</span> <span class="number">1.71</span>.<span class="number">87</span> <span class="number">3.213</span> <span class="number">2.188</span> <span class="number">4.096</span>a4.<span class="number">9044</span> <span class="number">4.9044</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>-<span class="number">2.228</span>-.<span class="number">616</span>v.<span class="number">061</span>c0 <span class="number">2.385</span> <span class="number">1.693</span> <span class="number">4.374</span> <span class="number">3.946</span> <span class="number">4.827</span>a4.<span class="number">9631</span> <span class="number">4.9631</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>-<span class="number">2.212</span>.<span class="number">085</span>c.<span class="number">631</span> <span class="number">1.953</span> <span class="number">2.445</span> <span class="number">3.377</span> <span class="number">4.604</span> <span class="number">3.417</span>-<span class="number">1.68</span> <span class="number">1.319</span>-<span class="number">3.809</span> <span class="number">2.105</span>-<span class="number">6.102</span> <span class="number">2.105</span>-.<span class="number">39</span> <span class="number">0</span>-.<span class="number">779</span>-.<span class="number">023</span>-<span class="number">1.17</span>-.<span class="number">067</span> <span class="number">2.189</span> <span class="number">1.394</span> <span class="number">4.768</span> <span class="number">2.209</span> <span class="number">7.557</span> <span class="number">2.209</span> <span class="number">9.054</span> <span class="number">0</span> <span class="number">13.999</span>-<span class="number">7.496</span> <span class="number">13.999</span>-<span class="number">13.986</span> <span class="number">0</span>-.<span class="number">209</span> <span class="number">0</span>-.<span class="number">42</span>-.<span class="number">015</span>-.<span class="number">63.961</span>-.<span class="number">689</span> <span class="number">1.8</span>-<span class="number">1.56</span> <span class="number">2.46</span>-<span class="number">2.548</span>l-.<span class="number">047</span>-.<span class="number">02</span>z<span class="string">&#x27;/&gt;&lt;/svg&gt;&quot;)</span></span><br></pre></td></tr></table></figure><p>And here we are:</p><ul><li>Home page HTML is now 9.91kb from 9.97kb</li><li>CSS is now 8.96kb from 7.84kb</li><li>no more Font file downloaded (was 75.9kb)</li></ul><p>So it‚Äôs lighter overall, but a bit bigger for CSS.</p><p>Next step will be to create a nice theme and share it on <a target="_blank" rel="noopener" href="https://hexo.io/themes/">https://hexo.io/themes/</a></p><div class="pt3"><span class="ec pr2">üïó</span>2018-07-31</div><div class="pt3"><span class="ec ec-mono pr2">üîñ</span> <a class="mr3" href="/tags/theme/">#theme</a> <a class="mr3" href="/tags/emoji/">#emoji</a></div><div class="pt3 comment"><span class="ec ec-mono pr2">üí¨</span><span class="mr2">Comment on</span> <a class="mr3 ic ic-share ic-github" href="https://github.com/tomap/tpi2.eu/issues/new?labels=comment&amp;title=Switching%20to%20Emoji%20Theme&amp;body=%0A%0AUrl:%20https://tp%C3%AE.eu/2018/07/31/Switching-To-Emoji-Theme/" target="_blank" rel="noopener noreferrer">github </a><a class="mr3 ic ic-share ic-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://tp%C3%AE.eu/2018/07/31/Switching-To-Emoji-Theme/" target="_blank" rel="noopener noreferrer">linkedin </a><a class="mr3 ic ic-share ic-twitter" href="https://twitter.com/intent/tweet?url=https://tp%C3%AE.eu/2018/07/31/Switching-To-Emoji-Theme/&amp;via=tomap" target="_blank" rel="noopener noreferrer">twitter</a></div></div></div></div></div></div><footer class="bg-1 ph2 ph5-ns pv5 center tc"><a class="dib m3 glow o-70 link black ma2" href="https://stackoverflow.com/users/383029/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-stackoverflow"></i> <span class="db mt2">StackOverflow</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://github.com/tomap/" target="_blank" rel="noopener noreferrer"><i class="ic ic-github"></i> <span class="db mt2">GitHub</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://www.linkedin.com/in/thomaspiart/" target="_blank" rel="noopener noreferrer"><i class="ic ic-linkedin"></i> <span class="db mt2">LinkedIn</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://twitter.com/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-twitter"></i> <span class="db mt2">Twitter</span> </a><a class="dib m3 glow o-70 link black ma2" href="/rss2.xml" target="_blank" rel="noopener noreferrer"><i class="ic ic-rss"></i> <span class="db mt2">Rss</span></a></footer></body></html>