<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Thomas Piart - tp√Æ.eu - Personal site"><meta name="author" content="Thomas Piart"><meta property="og:title" content="New Comment System"><meta property="og:description" content="Thomas Piart - tp√Æ.eu - Personal site"><meta property="og:site_name" content="Thomas Piart - tp√Æ.eu"><meta property="og:type" content="article"><meta property="og:image" content="https://i‚ù§Ô∏è.ws/emoji-image/üí¨.png"><meta property="og:url" content="https://tp√Æ.eu/2018/01/12/New-comment-system/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tomap"><title>New Comment System - Thomas Piart - tp√Æ.eu</title><link rel="stylesheet" href="/css/style.css"></head><body class="sans-serif"><header class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db w-100 mw8 center border-box pv3"><div class="db v-mid w-100 tc tr-ns"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/resume/">Resume</a></div></nav><div class="w-100 tc db dt-ns"><div class="dib dtc-ns w-90-ns white"><h1 class="f1-ns tc tc-ns tl-ns">New Comment System</h1></div><div class="dib dtc-ns w-10-ns f1 f-5-ns f-6-l mb2"><span class="ec">üí¨</span></div></div></header><div class="w-100 ph2 ph4-m ph5-l mv5 mv5-l"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 mw7 left fw3 lh-copy pr4-ns pr0-m post-content"><p>I dropped Disqus comment system from this site after reading this news: <a href="https://blog.disqus.com/disqus-and-zeta" target="_blank" rel="noopener">https://blog.disqus.com/disqus-and-zeta</a> and the wikipedia page which raises many privacy concerns: <a href="https://en.wikipedia.org/wiki/Disqus#Criticism_and_privacy_concerns" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Disqus#Criticism_and_privacy_concerns</a><br>Also, with this change, I have a fully static site, without any javascript.</p><p>So, I looked around to find a third party websites with a bit guarantee but could not find any.<br>So I decided to switch to asking reader to comment on third party sites like Twitter, LinkedIn and Github.</p><p>So I created links (see bellow this post) to share comments via those sites.</p><h2 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h2><p>For Github, I could not find an official documentation describing the url format to create an issue with some fields prefilled but I found this: <a href="https://github.com/isaacs/github/issues/99" target="_blank" rel="noopener">https://github.com/isaacs/github/issues/99</a> which explains how to prefill the title, body &amp; label:<br><code>https://github.com/account/repo/issues/new?labels=mylabel&amp;title=myTitle&amp;body=myBody</code><br>Note that you can‚Äôt prefill a random label. The label must b part of the project label list: <a href="https://help.github.com/articles/creating-a-label/" target="_blank" rel="noopener">https://help.github.com/articles/creating-a-label/</a></p><p>And here is the result:</p><img src="https://farm5.staticflickr.com/4766/24775863397_eb91b824dc.jpg" width="500" alt="Post Github issue" data-height="258"><h2 id="Twitter"><a href="#Twitter" class="headerlink" title="Twitter"></a>Twitter</h2><p>For Twitter, there is a nice documentation: <a href="https://dev.twitter.com/web/tweet-button/web-intent" target="_blank" rel="noopener">https://dev.twitter.com/web/tweet-button/web-intent</a></p><p>Here is the URL: <code>https://twitter.com/intent/tweet?url=https://example.com/myPage&amp;via=tomap</code></p><p>And here is the result:</p><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">&#123;% flickr 27866246469 %&#125;</span><br></pre></td></tr></table></figure><p>To have a nice ‚Äúcard‚Äù, I had to add a few missing Open Graph tags:</p><ul><li><p><code>image</code>: I pointed to the PNG equivalent of the post icon (Font-Awesome) using this repository: <a href="https://github.com/encharm/Font-Awesome-SVG-PNG" target="_blank" rel="noopener">https://github.com/encharm/Font-Awesome-SVG-PNG</a> which provides Png equivalent of the Font-Awesome icons.<br>I relied on <a href="https://rawgit.com/" target="_blank" rel="noopener">https://rawgit.com/</a> which converts Git Asset url to urls that can be included in your site:</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">page.icon</span> || <span class="attr">theme.default_post_icon</span>)&#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:image"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">content</span>=<span class="string">"https://raw.githubusercontent.com/encharm/Font-Awesome-SVG-PNG/30dda99e/black/png/256/&lt;%= (page.icon || theme.default_post_icon).substr(3) %&gt;.png"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p>See <a href="https://github.com/tomap/tpi2.eu/blob/fd279cc51590975d97e1030bffc836b8db8611dc/themes/anodyne/layout/_partial/head.ejs#L48" target="_blank" rel="noopener">https://github.com/tomap/tpi2.eu/blob/master/themes/anodyne/layout/_partial/head.ejs#L48</a></p></li><li><p><code>url</code>: I used <a href="https://hexo.io/docs/variables.html#Page-Variables" target="_blank" rel="noopener">Hexo variable</a> <code>permalink</code>:</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Page permalink --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">page.permalink</span>)&#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">"og:url"</span> <span class="attr">content</span>=<span class="string">"&lt;%= page.permalink %&gt;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="LinkedIn"><a href="#LinkedIn" class="headerlink" title="LinkedIn"></a>LinkedIn</h2><p>Open Graph tags were also needed for LinkedIn but what already existed in the theme and what I added for Twitter was enough.</p><p>To create the url, I used this documentation: <a href="https://developer.linkedin.com/docs/share-on-linkedin#" target="_blank" rel="noopener">https://developer.linkedin.com/docs/share-on-linkedin#</a> &gt; Click on ‚ÄúCustomized URL‚Äù and here is the result: <code>https://www.linkedin.com/shareArticle?mini=true&amp;url=https://tp√Æ.eu/2018/01/10/New-comment-system/</code></p><p>And here is the result:</p><img src="https://farm5.staticflickr.com/4666/38747904405_abbfe2754c.jpg" width="500" alt="Share with LinkedIn" data-height="313"><p>Then all I had to do was to add those links instead of Disqus comment system. See <a href="https://github.com/tomap/tpi2.eu/blob/fd279cc51590975d97e1030bffc836b8db8611dc/themes/anodyne/layout/_partial/comments.ejs#L3" target="_blank" rel="noopener">https://github.com/tomap/tpi2.eu/blob/master/themes/anodyne/layout/_partial/comments.ejs#L3</a></p><div class="pt3"><span class="ec pr2">üïó</span>2018-01-12</div><div class="pt3"><span class="ec ec-mono pr2">üîñ</span> <a class="mr3" href="/tags/github/">#github</a> <a class="mr3" href="/tags/comment/">#comment</a> <a class="mr3" href="/tags/disqus/">#disqus</a> <a class="mr3" href="/tags/linkedin/">#linkedin</a> <a class="mr3" href="/tags/twitter/">#twitter</a></div><div class="pt3"><span class="ec ec-mono pr2">üí¨</span><span class="mr2">Comment on</span> <a class="mr3 ic ic-share ic-github" href="https://github.com/tomap/tpi2.eu/issues/new?labels=comment&amp;title=New%20Comment%20System&amp;body=%0A%0AUrl:%20https://tp%C3%AE.eu/2018/01/12/New-comment-system/" target="_blank" rel="noopener noreferrer">github </a><a class="mr3 ic ic-share ic-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://tp%C3%AE.eu/2018/01/12/New-comment-system/" target="_blank" rel="noopener noreferrer">linkedin </a><a class="mr3 ic ic-share ic-twitter" href="https://twitter.com/intent/tweet?url=https://tp%C3%AE.eu/2018/01/12/New-comment-system/&amp;via=tomap" target="_blank" rel="noopener noreferrer">twitter</a></div></div></div></div></div></div><footer class="bg-1 ph2 ph5-ns pv5 center tc"><a class="dib mh3 glow o-70" href="https://stackoverflow.com/users/383029/tomap" title="My StackOverflow's Profile" target="_blank" rel="noopener noreferrer"><i class="ic ic-stackoverflow"></i> </a><a class="dib mh3 glow o-70" href="https://github.com/tomap/" title="My GitHub's Profile" target="_blank" rel="noopener noreferrer"><i class="ic ic-github"></i> </a><a class="dib mh3 glow o-70" href="https://linkedin.com/in/thomaspiart" title="My LinkedIn's Profile" target="_blank" rel="noopener noreferrer"><i class="ic ic-linkedin"></i> </a><a class="dib mh3 glow o-70" href="https://twitter.com/tomap" title="My Twitter's Profile" target="_blank" rel="noopener noreferrer"><i class="ic ic-twitter"></i></a></footer></body></html>