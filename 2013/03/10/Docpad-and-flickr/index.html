<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Thomas Piart - tpÃ®.eu - Personal site and blog and resume"><meta name="author" content="Thomas Piart"><meta property="og:title" content="Docpad and flickr"><meta property="og:description" content="Thomas Piart - tpÃ®.eu - Personal site and blog and resume"><meta property="og:site_name" content="Thomas Piart - tpÃ®.eu - Personal site"><meta property="og:type" content="article"><meta property="og:image" content="https://xn--i-7iq.ws/emoji-image/%F0%9F%96%BC.png"><meta property="og:url" content="https://tpÃ®.eu/2013/03/10/Docpad-and-flickr/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tomap"><meta name="generator" content="Hexo"><title>Docpad and flickr - #docpad - #image - #flickr - #oauth - Thomas Piart - tpÃ®.eu - Personal site</title><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Thomas Piart - tpÃ®.eu - Personal site" type="application/atom+xml">
<link rel="alternate" href="/rss2.xml" title="Thomas Piart - tpÃ®.eu - Personal site" type="application/rss+xml">
</head><body class="sans-serif"><header class="w-100 bg-1 ph5-ns ph3 text-light"><nav class="db w-100 mw8 center border-box pv3"><div class="db v-mid w-100 tc tr-ns"><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/">Home </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/resume/">Resume </a><a class="link dim f6 f5-l dib mr3 mr4-l white" href="/promote/">Promote</a></div></nav><div class="w-100 tc db dt-ns"><div class="dib dtc-ns w-90-ns white"><h1 class="f1-ns tc tc-ns tl-ns">Docpad and flickr</h1></div><div class="dib dtc-ns w-10-ns f1 f-5-ns f-6-l mb2"><span class="ec">ðŸ–¼</span></div></div></header><div class="w-100 ph2 ph4-m ph5-l mv5"><div class="content"><div class="mw8 center"><div class="cf"><div class="fl w-100 mw7 left lh-copy pr4-ns pr0-m post-content"><p>After my last post, I wanted to write something about IDN and browser support.<br>So I made lot's of screen shots about how well IDN is supported.<br>Then I figured that if I ever wanted to do more than one post with images on this blog, I had to host those images somewhere...<br>So, I started looking at some image hosting services, like google, 500px, ... and in the end, I choose flickr because they have an API, and I already had an account.<br>In order to avoid uploading images one by one and linking them to my post, I have tried to automate this process using a docpad plugin:</p><h2>docpad-plugin-flickrimages</h2><p>This plugin is a fork from <a target="_blank" rel="noopener" href="https://github.com/docpad/docpad-plugin-associatedfiles/">docpad-flickr-associatedfiles</a>. It's a start :).<br>Here is how it works:<ol><li>List all images in a dedicated folder</li><li>Call Flickr to get the list of images with a tag ("docpad" by default, but can be configured)</li><li>Get additional properties (url of images in various sizes,...)</li><li>If local image is not on flickr, upload it</li><li>If local image is on flickr, check the last update, and update the image if necessary</li><li>Remove local image from file that needs to be copied to the output directory</li><li>In any page, add a link to an image using document.getFlickrImage('my image.png')</li><li>this call will be replace by a reference to the image on flickr</li></ol>Currently some thing are not yet working:<ul><li>Update an image</li><li>There are no tests</li><li>Error cases are not working</li><li>...</li></ul></p><p>A little example:</p>[EDIT: Fev 2017: does not work yet in Hugo]<br>%- @getDocument().getFlickrImage('blog post code.png') %<br>%- @getDocument().getFlickrImage('beaglebone.jpg') %<br><p>Also: by default, getFlickrImage return a piece of HTML that works fine with fancybox.</p><div class="pt3"><span class="ec pr2">ðŸ•—</span>2013-03-10</div><div class="pt3"><span class="ec ec-mono pr2">ðŸ”–</span> <a class="mr3" href="/tags/docpad/">#docpad</a> <a class="mr3" href="/tags/image/">#image</a> <a class="mr3" href="/tags/flickr/">#flickr</a> <a class="mr3" href="/tags/oauth/">#oauth</a></div><div class="pt3 comment"><span class="ec ec-mono pr2">ðŸ’¬</span><span class="mr2">Comment on</span> <a class="mr3 ic ic-share ic-github" href="https://github.com/tomap/tpi2.eu/issues/new?labels=comment&amp;title=Docpad%20and%20flickr&amp;body=%0A%0AUrl:%20https://tp%C3%AE.eu/2013/03/10/Docpad-and-flickr/" target="_blank" rel="noopener noreferrer">github </a><a class="mr3 ic ic-share ic-linkedin" href="https://www.linkedin.com/sharing/share-offsite/?url=https://tp%C3%AE.eu/2013/03/10/Docpad-and-flickr/" target="_blank" rel="noopener noreferrer">linkedin </a><a class="mr3 ic ic-share ic-twitter" href="https://twitter.com/intent/tweet?url=https://tp%C3%AE.eu/2013/03/10/Docpad-and-flickr/&amp;via=tomap" target="_blank" rel="noopener noreferrer">twitter</a></div></div></div></div></div></div><footer class="bg-1 ph2 ph5-ns pv5 center tc"><a class="dib m3 glow o-70 link black ma2" href="https://hachyderm.io/@tomap" target="_blank" rel="me noopener noreferrer"><i class="ic ic-mastodon"></i> <span class="db mt2">Mastodon</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://stackoverflow.com/users/383029/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-stackoverflow"></i> <span class="db mt2">StackOverflow</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://github.com/tomap/" target="_blank" rel="noopener noreferrer"><i class="ic ic-github"></i> <span class="db mt2">GitHub</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://www.linkedin.com/in/thomaspiart/" target="_blank" rel="noopener noreferrer"><i class="ic ic-linkedin"></i> <span class="db mt2">LinkedIn</span> </a><a class="dib m3 glow o-70 link black ma2" href="https://twitter.com/tomap" target="_blank" rel="noopener noreferrer"><i class="ic ic-twitter"></i> <span class="db mt2">Twitter</span> </a><a class="dib m3 glow o-70 link black ma2" href="/rss2.xml" target="_blank" rel="noopener noreferrer"><i class="ic ic-rss"></i> <span class="db mt2">Rss</span></a></footer></body></html>